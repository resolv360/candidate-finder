<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LinkedIn Recruiter Workspace</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <!-- Main Layout -->
    <div class="app-container">
        <!-- Left Sidebar Navigation -->
        <nav class="sidebar">
            <div class="sidebar-navigation">
                <button class="nav-tab active" data-view="workspaces">
                    üìÅ Workspaces
                </button>
                <button class="nav-tab" data-view="leadgen">
                    üöÄ Lead Generation
                </button>
            </div>
            
            <!-- Workspaces Section -->
            <div class="nav-content active" id="workspacesSection">
                <div class="sidebar-actions">
                    <button class="btn btn--primary btn--full-width" id="createWorkspaceBtn">
                        + Create Workspace
                    </button>
                    <button class="btn btn--outline btn--full-width" id="settingsBtn">
                        ‚öôÔ∏è Settings
                    </button>
                </div>
                
                <div class="workspace-list" id="workspaceList">
                    <!-- Workspaces will be populated here -->
                </div>
            </div>

            <!-- Lead Generation Section -->
            <div class="nav-content" id="leadgenSection">
                <div class="sidebar-actions">
                    <button class="btn btn--outline btn--full-width" id="leadgenSettingsBtn">
                        ‚öôÔ∏è AI Finder Settings
                    </button>
                    <button class="btn btn--accent btn--full-width" id="findStartupsBtn">
                        üîç AI Startup Finder
                    </button>
                </div>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Workspace Welcome View -->
            <div class="content-view active" id="workspaceView">
                <div class="welcome-message">
                    <h2>Welcome to LinkedIn Recruiter Workspace</h2>
                    <p>Select a workspace from the sidebar or create a new one to get started.</p>
                </div>
            </div>
            
            <!-- Workspace Content View -->
            <div class="content-view hidden" id="workspaceContent">
                <div class="workspace-content-grid">
                    <!-- LinkedIn Profiles Section -->
                    <div class="profiles-section">
                        <div class="section-header">
                            <h3>LinkedIn Profiles</h3>
                            <span class="profile-count" id="profileCount">0 profiles</span>
                        </div>
                        <div id="candidatesActions">
                            <button id="openNext5Btn" style="padding: 10px 2px">Open next 5</button>
                            <button id="workspaceDownloadCsvBtn" style="padding: 10px 2px">Download CSV ‚¨áÔ∏è</button>
                        </div>
                        <div class="profiles-list" id="profilesList">
                            <!-- Profiles will be populated here -->
                        </div>
                    </div>
                    
                    <!-- Template Section -->
                    <div class="template-section">
                        <div class="section-header">
                            <h3>Template</h3>
                        </div>
                        <textarea 
                            class="form-control template-textarea" 
                            id="workspaceTemplateTextarea"
                            placeholder="Enter your message template here..."
                        ></textarea>
                    </div>
                </div>
            </div>

            <!-- Lead Generation Content View -->
            <div class="content-view hidden" id="leadgenView">
                <div class="leadgen-container">
                    <!-- Status Messages at Top -->
                    <div class="leadgen-status-top">
                        <div class="connection-status" id="connectionStatus"></div>
                        <div class="workflow-status" id="workflowStatus"></div>
                    </div>

                    <!-- AI Runs Management -->
                    <div class="ai-runs-section">
                        <div class="ai-runs-header">
                            <span>üóÇÔ∏è Runs:</span>
                            <select id="aiRunsSelect" class="ai-runs-select">
                                <option value="">Current Run</option>
                            </select>
                            <button class="btn btn--outline btn--small" id="clearRuns">Clear All</button>
                        </div>
                    </div>

                    <!-- Template Editor Section -->
                    <div class="template-editor-section">
                        <div class="template-header">
                            <h3>ÔøΩ Template</h3>
                            <button class="btn btn--primary btn--small" id="leadgenCopyTemplateBtn">üìã Copy</button>
                        </div>
                        <div class="template-editor">
                            <textarea class="template-textarea" id="leadgenTemplateTextarea" placeholder="Hi {founder_name}, I'm interested in {company_name}. Would love to connect!">Hi {founder_name}, I'm interested in {company_name}. Would love to connect!</textarea>
                            <div class="template-variables">
                                <span class="variables-label">Variables:</span>
                                <span class="variable-tag" data-variable="{founder_name}">{founder_name}</span>
                                <span class="variable-tag" data-variable="{company_name}">{company_name}</span>
                                <span class="variable-tag" data-variable="{industry}">{industry}</span>
                                <span class="variable-tag" data-variable="{location}">{location}</span>
                                <span class="variable-tag" data-variable="{funding_amount}">{funding_amount}</span>
                            </div>
                        </div>
                    </div>

                    <!-- Results Section -->
                    <div class="section">
                        <div class="results-container" id="resultsContainer">
                            <!-- Startup results will be populated here -->
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Create Workspace Modal -->
    <div class="modal hidden" id="createWorkspaceModal">
        <div class="modal-backdrop" id="createWorkspaceBackdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create New Workspace</h3>
                <button class="modal-close" id="createWorkspaceClose">&times;</button>
            </div>
            <form id="createWorkspaceForm">
                <div class="modal-body">
                    <div class="form-group">
                        <label class="form-label" for="workspaceTitle">Title</label>
                        <input type="text" class="form-control" id="workspaceTitle" value="Untitled">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="jobDescription">Job Description</label>
                        <textarea class="form-control" id="jobDescription" rows="4" placeholder="Enter job description..."></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="candidateCount">Number of candidates to scrape</label>
                        <input type="number" class="form-control" id="candidateCount" min="1" max="500" value="10">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="queryCount">Number of queries (ignore this)</label>
                        <input type="number" class="form-control" id="queryCount" min="1" max="10" value="3">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn--outline" id="cancelCreateWorkspace">Cancel</button>
                    <button type="submit" class="btn btn--primary">Create</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Preview Modal -->
    <div class="modal hidden" id="previewModal">
        <div class="modal-backdrop" id="previewBackdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Generated Search Queries</h3>
                <button class="modal-close" id="previewClose">&times;</button>
            </div>
            <form id="previewForm">
                <div class="modal-body">
                    <div class="form-group">
                        <label class="form-label" for="searchQueries">Search Queries (one per line)</label>
                        <textarea class="form-control" id="searchQueries" rows="6" placeholder="Generated search queries will appear here..."></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn--outline" id="cancelPreview">Cancel</button>
                    <button type="submit" class="btn btn--primary">Submit</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Lead Settings Modal -->
    <div class="modal hidden" id="leadSettingsModal">
        <div class="modal-backdrop" id="leadSettingsBackdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>ü§ñ AI Startup Finder Settings</h3>
                <button class="modal-close" id="leadSettingsClose">&times;</button>
            </div>
            <form id="leadSettingsForm">
                <div class="modal-body">
                    <div class="form-group">
                        <label class="form-label" for="apiBaseUrl">API Base URL</label>
                        <input type="text" class="form-control" id="apiBaseUrl" value="http://localhost:5000/" placeholder="http://localhost:5000/">
                        <small class="form-help">Base URL for the Indian startup API</small>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="maxStartups">Maximum Startups to Find</label>
                        <input type="number" class="form-control" id="maxStartups" value="10" min="1" max="200" placeholder="10">
                        <small class="form-help">Find up to 200 new startups with LinkedIn profiles using AI</small>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn--outline" id="cancelLeadSettings">Cancel</button>
                    <button type="submit" class="btn btn--primary">Save Settings</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal hidden" id="settingsModal">
        <div class="modal-backdrop" id="settingsBackdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Settings</h3>
                <button class="modal-close" id="settingsClose">&times;</button>
            </div>
            <form id="settingsForm">
                <div class="modal-body">
                    <div class="form-group">
                        <label class="form-label" for="googleApiKey">Google Custom Search API Key</label>
                        <input type="password" class="form-control" id="googleApiKey" placeholder="Enter API key...">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="googleSearchId">Google Custom Search ID</label>
                        <input type="text" class="form-control" id="googleSearchId" placeholder="Enter search ID...">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="geminiApiKey">Gemini API Key</label>
                        <input type="password" class="form-control" id="geminiApiKey" placeholder="Enter API key...">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn--outline" id="cancelSettings">Cancel</button>
                    <button type="submit" class="btn btn--primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Loading Spinner -->
    <div class="loading-overlay hidden" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <p>Loading...</p>
    </div>

    <script src="../../dist/app.js"></script>
</body>
</html>