<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LinkedIn Recruiter Workspace</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <!-- Main Layout -->
    <div class="app-container">
        <!-- Left Sidebar Navigation -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2>Navigation</h2>
            </div>
            
            <div class="sidebar-navigation">
                <button class="nav-tab active" data-view="workspaces">
                    üìÅ Workspaces
                </button>
                <button class="nav-tab" data-view="leadgen">
                    üöÄ Lead Generation
                </button>
            </div>
            
            <!-- Workspaces Section -->
            <div class="nav-content active" id="workspacesSection">
                <div class="sidebar-actions">
                    <button class="btn btn--primary btn--full-width" id="createWorkspaceBtn">
                        + Create Workspace
                    </button>
                    <button class="btn btn--outline btn--full-width" id="settingsBtn">
                        ‚öôÔ∏è Settings
                    </button>
                </div>
                
                <div class="workspace-list" id="workspaceList">
                    <!-- Workspaces will be populated here -->
                </div>
            </div>

            <!-- Lead Generation Section -->
            <div class="nav-content" id="leadgenSection">
                <div class="sidebar-actions">
                    <button class="btn btn--outline btn--full-width" id="testConnectionBtn">
                        üîó Test Connection
                    </button>
                    <button class="btn btn--primary btn--full-width" id="completeWorkflowBtn">
                        ‚ö° Complete Workflow
                    </button>
                </div>
                
                <div class="leadgen-status">
                    <div class="connection-status" id="connectionStatus"></div>
                    <div class="workflow-status" id="workflowStatus"></div>
                </div>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Workspace Welcome View -->
            <div class="content-view active" id="workspaceView">
                <div class="welcome-message">
                    <h2>Welcome to LinkedIn Recruiter Workspace</h2>
                    <p>Select a workspace from the sidebar or create a new one to get started.</p>
                </div>
            </div>
            
            <!-- Workspace Content View -->
            <div class="content-view hidden" id="workspaceContent">
                <div class="workspace-content-grid">
                    <!-- LinkedIn Profiles Section -->
                    <div class="profiles-section">
                        <div class="section-header">
                            <h3>LinkedIn Profiles</h3>
                            <span class="profile-count" id="profileCount">0 profiles</span>
                        </div>
                        <div id="candidatesActions">
                            <button id="openNext5Btn" style="padding: 10px 2px">Open next 5</button>
                            <button id="downloadCsvBtn" style="padding: 10px 2px">Download CSV ‚¨áÔ∏è</button>
                        </div>
                        <div class="profiles-list" id="profilesList">
                            <!-- Profiles will be populated here -->
                        </div>
                    </div>
                    
                    <!-- Template Section -->
                    <div class="template-section">
                        <div class="section-header">
                            <h3>Template</h3>
                        </div>
                        <textarea 
                            class="form-control template-textarea" 
                            id="templateTextarea"
                            placeholder="Enter your message template here..."
                        ></textarea>
                    </div>
                </div>
            </div>

            <!-- Lead Generation Content View -->
            <div class="content-view" id="leadgenView">
                <div class="leadgen-container">
                    <!-- Header Section -->
                    <div class="leadgen-header">
                        <h2>üáÆüá≥ Indian Startup Lead Generation Dashboard</h2>
                        <p>Extract funding data with LinkedIn connect strategies from YourStory, Entrackr, and Inc42</p>
                        <div style="font-size: 14px; color: var(--color-text-secondary); margin-top: 8px;">
                            ‚úÖ Indian-focused scraping ‚Ä¢ ‚úÖ LinkedIn strategies ‚Ä¢ ‚úÖ Funding filters ‚Ä¢ ‚úÖ Real-time data
                        </div>
                    </div>

                    <!-- API Configuration Section -->
                    <div class="section">
                        <div class="section-header">
                            <h3>Indian Startup Lead Generation Configuration</h3>
                            <p style="color: var(--color-text-secondary); font-size: 14px; margin-top: 4px;">
                                Configure extraction settings for Indian startups from YourStory, Entrackr, and Inc42
                            </p>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="apiBaseUrl">API Base URL</label>
                            <input type="text" class="form-control" id="apiBaseUrl" value="http://localhost:5000" placeholder="http://localhost:5000">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="minFunding">Minimum Funding (USD Millions)</label>
                                <input type="number" class="form-control" id="minFunding" value="5" min="0" max="1000" placeholder="5">
                                <small class="form-help">Filter companies by minimum funding amount</small>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="maxCompanies">Maximum Companies</label>
                                <input type="number" class="form-control" id="maxCompanies" value="30" min="5" max="100" placeholder="30">
                                <small class="form-help">Limit the number of companies to extract</small>
                            </div>
                        </div>
                    </div>

                    <!-- Workflow Actions Section -->
                    <div class="section">
                        <div class="section-header">
                            <h3>Indian Startup Lead Generation Workflow</h3>
                            <p style="color: var(--color-text-secondary); font-size: 14px; margin-top: 4px;">
                                Extract funding data with LinkedIn connect strategies from Indian startup sources
                            </p>
                        </div>
                        <div class="workflow-actions">
                            <button class="btn btn--primary" id="extractDataBtn">
                                <span>1. Extract Indian Companies</span>
                                <small>From YourStory, Entrackr, Inc42</small>
                            </button>
                            <button class="btn btn--primary" id="enrichDataBtn" disabled>
                                <span>2. Enrich with LinkedIn</span>
                                <small>Add contact & strategy data</small>
                            </button>
                            <button class="btn btn--success" id="completeWorkflowBtn">
                                <span>üöÄ Complete Workflow</span>
                                <small>Extract + Enrich + LinkedIn Strategies</small>
                            </button>
                            <button class="btn btn--secondary" id="viewLatestBtn">
                                <span>View Latest Output</span>
                                <small>See generated data</small>
                            </button>
                        </div>
                    </div>

                    <!-- Results Section -->
                    <div class="section">
                        <div class="section-header">
                            <h3>Results</h3>
                            <button class="btn btn--outline btn--small" id="refreshFilesBtn">Refresh Files</button>
                        </div>
                        <div class="results-container">
                            <div class="files-list" id="filesList">
                                <!-- Files will be populated here -->
                            </div>
                            <div class="companies-preview" id="companiesPreview">
                                <!-- Company data preview will be shown here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Create Workspace Modal -->
    <div class="modal hidden" id="createWorkspaceModal">
        <div class="modal-backdrop" id="createWorkspaceBackdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create New Workspace</h3>
                <button class="modal-close" id="createWorkspaceClose">&times;</button>
            </div>
            <form id="createWorkspaceForm">
                <div class="modal-body">
                    <div class="form-group">
                        <label class="form-label" for="workspaceTitle">Title</label>
                        <input type="text" class="form-control" id="workspaceTitle" value="Untitled">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="jobDescription">Job Description</label>
                        <textarea class="form-control" id="jobDescription" rows="4" placeholder="Enter job description..."></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="candidateCount">Number of candidates to scrape</label>
                        <input type="number" class="form-control" id="candidateCount" min="1" max="500" value="10">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="queryCount">Number of queries (ignore this)</label>
                        <input type="number" class="form-control" id="queryCount" min="1" max="10" value="3">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn--outline" id="cancelCreateWorkspace">Cancel</button>
                    <button type="submit" class="btn btn--primary">Create</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Preview Modal -->
    <div class="modal hidden" id="previewModal">
        <div class="modal-backdrop" id="previewBackdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Generated Search Queries</h3>
                <button class="modal-close" id="previewClose">&times;</button>
            </div>
            <form id="previewForm">
                <div class="modal-body">
                    <div class="form-group">
                        <label class="form-label" for="searchQueries">Search Queries (one per line)</label>
                        <textarea class="form-control" id="searchQueries" rows="6" placeholder="Generated search queries will appear here..."></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn--outline" id="cancelPreview">Cancel</button>
                    <button type="submit" class="btn btn--primary">Submit</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal hidden" id="settingsModal">
        <div class="modal-backdrop" id="settingsBackdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Settings</h3>
                <button class="modal-close" id="settingsClose">&times;</button>
            </div>
            <form id="settingsForm">
                <div class="modal-body">
                    <div class="form-group">
                        <label class="form-label" for="googleApiKey">Google Custom Search API Key</label>
                        <input type="password" class="form-control" id="googleApiKey" placeholder="Enter API key...">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="googleSearchId">Google Custom Search ID</label>
                        <input type="text" class="form-control" id="googleSearchId" placeholder="Enter search ID...">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="geminiApiKey">Gemini API Key</label>
                        <input type="password" class="form-control" id="geminiApiKey" placeholder="Enter API key...">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn--outline" id="cancelSettings">Cancel</button>
                    <button type="submit" class="btn btn--primary">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Loading Spinner -->
    <div class="loading-overlay hidden" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <p>Loading...</p>
    </div>

    <script src="../../dist/app.js"></script>
</body>
</html>